{"ast":null,"code":"import * as firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/database';\nimport store from \"../reducers/store\";\nimport { updateDBObject, updateUserDBObject, getUserDBObject } from \"./database\";\nexport const config = {\n  apiKey: \"AIzaSyBRTRaptx8NL5jALfVifwxZ2Gx2MP2NiaA\",\n  authDomain: \"engresume-68715.firebaseapp.com\",\n  projectId: \"engresume-68715\",\n  storageBucket: \"engresume-68715.appspot.com\",\n  messagingSenderId: \"106698040301\",\n  appId: \"1:106698040301:web:45a3ede06cfcf779dcfde4\",\n  measurementId: \"G-0FK9JZBEDV\"\n};\nexport const database = firebase.database;\nexport const firebaseAppAuth = firebase.initializeApp(config).auth();\nfirebase.auth().onAuthStateChanged(function (user) {\n  if (user) {\n    store.dispatch({\n      type: \"UPDATE_USER\",\n      uid: user.uid\n    });\n    if (store.getState().user.newUser) {\n      //On register\n      updateDBObject(\"users/takennicks/\", JSON.parse(`{\"${user.uid}\": \"${store.getState().user.nick}\"}`));\n      updateUserDBObject(\"general/\", {\n        nick: store.getState().user.nick\n      });\n    } else {\n      getUserDBObject(\"general/nick\", nick => {\n        store.dispatch({\n          type: \"UPDATE_USER\",\n          nick\n        });\n      });\n    }\n  } else {\n    //User has just signed out\n  }\n});","map":{"version":3,"names":["firebase","store","updateDBObject","updateUserDBObject","getUserDBObject","config","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","database","firebaseAppAuth","initializeApp","auth","onAuthStateChanged","user","dispatch","type","uid","getState","newUser","JSON","parse","nick"],"sources":["/home/xacket/Projects/engresume/src/firebase/firebaseapp.js"],"sourcesContent":["import * as firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/database';\nimport store from \"../reducers/store\";\nimport { updateDBObject, updateUserDBObject, getUserDBObject } from \"./database\";\n\nexport const config = {\n  apiKey: \"AIzaSyBRTRaptx8NL5jALfVifwxZ2Gx2MP2NiaA\",\n  authDomain: \"engresume-68715.firebaseapp.com\",\n  projectId: \"engresume-68715\",\n  storageBucket: \"engresume-68715.appspot.com\",\n  messagingSenderId: \"106698040301\",\n  appId: \"1:106698040301:web:45a3ede06cfcf779dcfde4\",\n  measurementId: \"G-0FK9JZBEDV\"\n};\n\nexport const database = firebase.database;\n\nexport const firebaseAppAuth = firebase.initializeApp(config).auth();\n\nfirebase.auth().onAuthStateChanged(function (user) {\n  if (user) {\n    store.dispatch({ type: \"UPDATE_USER\", uid: user.uid });\n    if (store.getState().user.newUser) {\n      //On register\n      updateDBObject(\"users/takennicks/\", JSON.parse(`{\"${user.uid}\": \"${store.getState().user.nick}\"}`));\n      updateUserDBObject(\"general/\", {\n        nick: store.getState().user.nick\n      });\n    } else {\n      getUserDBObject(\"general/nick\", (nick) => {\n        store.dispatch({ type: \"UPDATE_USER\", nick });\n      });\n    }\n\n  } else {\n    //User has just signed out\n  }\n});\n"],"mappings":"AAAA,OAAO,KAAKA,QAAQ,MAAM,cAAc;AACxC,OAAO,eAAe;AACtB,OAAO,mBAAmB;AAC1B,OAAOC,KAAK,MAAM,mBAAmB;AACrC,SAASC,cAAc,EAAEC,kBAAkB,EAAEC,eAAe,QAAQ,YAAY;AAEhF,OAAO,MAAMC,MAAM,GAAG;EACpBC,MAAM,EAAE,yCAAyC;EACjDC,UAAU,EAAE,iCAAiC;EAC7CC,SAAS,EAAE,iBAAiB;EAC5BC,aAAa,EAAE,6BAA6B;EAC5CC,iBAAiB,EAAE,cAAc;EACjCC,KAAK,EAAE,2CAA2C;EAClDC,aAAa,EAAE;AACjB,CAAC;AAED,OAAO,MAAMC,QAAQ,GAAGb,QAAQ,CAACa,QAAQ;AAEzC,OAAO,MAAMC,eAAe,GAAGd,QAAQ,CAACe,aAAa,CAACV,MAAM,CAAC,CAACW,IAAI,CAAC,CAAC;AAEpEhB,QAAQ,CAACgB,IAAI,CAAC,CAAC,CAACC,kBAAkB,CAAC,UAAUC,IAAI,EAAE;EACjD,IAAIA,IAAI,EAAE;IACRjB,KAAK,CAACkB,QAAQ,CAAC;MAAEC,IAAI,EAAE,aAAa;MAAEC,GAAG,EAAEH,IAAI,CAACG;IAAI,CAAC,CAAC;IACtD,IAAIpB,KAAK,CAACqB,QAAQ,CAAC,CAAC,CAACJ,IAAI,CAACK,OAAO,EAAE;MACjC;MACArB,cAAc,CAAC,mBAAmB,EAAEsB,IAAI,CAACC,KAAK,CAAE,KAAIP,IAAI,CAACG,GAAI,OAAMpB,KAAK,CAACqB,QAAQ,CAAC,CAAC,CAACJ,IAAI,CAACQ,IAAK,IAAG,CAAC,CAAC;MACnGvB,kBAAkB,CAAC,UAAU,EAAE;QAC7BuB,IAAI,EAAEzB,KAAK,CAACqB,QAAQ,CAAC,CAAC,CAACJ,IAAI,CAACQ;MAC9B,CAAC,CAAC;IACJ,CAAC,MAAM;MACLtB,eAAe,CAAC,cAAc,EAAGsB,IAAI,IAAK;QACxCzB,KAAK,CAACkB,QAAQ,CAAC;UAAEC,IAAI,EAAE,aAAa;UAAEM;QAAK,CAAC,CAAC;MAC/C,CAAC,CAAC;IACJ;EAEF,CAAC,MAAM;IACL;EAAA;AAEJ,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}